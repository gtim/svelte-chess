import{S as A,i as G,s as J,k as b,y as N,a as D,q as V,l as y,m as $,z as O,c as U,r as w,h as m,n as p,b as M,G as f,A as j,J as F,g as H,d as K,B as L,U as Q,u as R,w as W}from"../chunks/index.18b0dfda.js";import{C as X}from"../chunks/Chess.9a9861b8.js";import{E as Y}from"../chunks/engine.ce1be9c3.js";function T(o,t,n){const e=o.slice();return e[6]=t[n],e}function B(o){let t,n=o[6].text+"",e,h;return{c(){t=b("div"),e=V(n),this.h()},l(a){t=y(a,"DIV",{class:!0});var c=$(t);e=w(c,n),c.forEach(m),this.h()},h(){p(t,"class",h="message "+o[6].type+" svelte-96dqax")},m(a,c){M(a,t,c),f(t,e)},p(a,c){c&2&&n!==(n=a[6].text+"")&&R(e,n),c&2&&h!==(h="message "+a[6].type+" svelte-96dqax")&&p(t,"class",h)},d(a){a&&m(t)}}}function Z(o){let t,n,e,h,a,c,k,_,r,E,x,q,I,S,z={orientation:"b",engine:o[2]};e=new X({props:z}),o[4](e),e.$on("uci",o[3]);let g=o[1],l=[];for(let s=0;s<g.length;s+=1)l[s]=B(T(o,g,s));return{c(){t=b("div"),n=b("div"),N(e.$$.fragment),h=D(),a=b("button"),c=V("Play engine move"),k=D(),_=b("div"),r=b("div"),E=V("UCI messages from Stockfish"),x=D();for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){t=y(s,"DIV",{class:!0});var u=$(t);n=y(u,"DIV",{class:!0});var d=$(n);O(e.$$.fragment,d),h=U(d),a=y(d,"BUTTON",{class:!0});var i=$(a);c=w(i,"Play engine move"),i.forEach(m),d.forEach(m),k=U(u),_=y(u,"DIV",{class:!0});var v=$(_);r=y(v,"DIV",{class:!0});var P=$(r);E=w(P,"UCI messages from Stockfish"),P.forEach(m),x=U(v);for(let C=0;C<l.length;C+=1)l[C].l(v);v.forEach(m),u.forEach(m),this.h()},h(){p(a,"class","svelte-96dqax"),p(n,"class","board svelte-96dqax"),p(r,"class","header svelte-96dqax"),p(_,"class","uci svelte-96dqax"),p(t,"class","container svelte-96dqax")},m(s,u){M(s,t,u),f(t,n),j(e,n,null),f(n,h),f(n,a),f(a,c),f(t,k),f(t,_),f(_,r),f(r,E),f(_,x);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(_,null);q=!0,I||(S=F(a,"click",o[5]),I=!0)},p(s,[u]){const d={};if(e.$set(d),u&2){g=s[1];let i;for(i=0;i<g.length;i+=1){const v=T(s,g,i);l[i]?l[i].p(v,u):(l[i]=B(v),l[i].c(),l[i].m(_,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=g.length}},i(s){q||(H(e.$$.fragment,s),q=!0)},o(s){K(e.$$.fragment,s),q=!1},d(s){s&&m(t),o[4](null),L(e),Q(l,s),I=!1,S()}}}function ee(o,t,n){let e;const h=new Y({depth:20,moveTime:500,color:"w"});let a=[];function c(r){n(1,a=[{text:r.detail,type:r.detail.split(" ")[0]},...a])}function k(r){W[r?"unshift":"push"](()=>{e=r,n(0,e)})}return[e,a,h,c,k,()=>e==null?void 0:e.playEngineMove()]}class ne extends A{constructor(t){super(),G(this,t,ee,Z,J,{})}}export{ne as component};
